
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Tracking domains and subdomains in Google Analytics - Tech Blog</title>
  <meta name="author" content="Aleksandr Balakiriev">
  <link rel="author" href="humans.txt">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  
    
  
  <meta name="description" content="Steps for correct google analytics config tacking the domain and subdomain: This is only required if cross tracking to other domains and/or &hellip;">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.balakiriev.com/blog/2014/01/27/tracking-domains-and-subdomains-in-google-analytics/">
  <link href="/images/favicon.ico" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Cantarell' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Tech Blog" type="application/atom+xml">
  <meta name="og:type" content="website" />
  <meta name="og:site_name" content="Tech Blog" />
  <meta name="og:title" content="Tracking domains and subdomains in Google Analytics" />
  <meta name="og:description" content="Steps for correct google analytics config tacking the domain and subdomain: This is only required if cross tracking to other domains and/or &hellip;" />
  <meta name="og:url" content="http://blog.balakiriev.com/blog/2014/01/27/tracking-domains-and-subdomains-in-google-analytics/"/>
  <meta name="url" content="http://blog.balakiriev.com/blog/2014/01/27/tracking-domains-and-subdomains-in-google-analytics/">
  
  <meta name="subject" content="analyticsdomaingooglesubdomaintracking"/>
  <meta name="category" content="analyticsdomaingooglesubdomaintracking"/>
  
  <meta name="distribution" content="global">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-47515936-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <nav role="navigation"><div class="navbar">
  <div class="navbar-inner">
    <a class="brand" href="/">Tech Blog</a>
    <ul class="nav">
      <li><a href="/blog/archives">All Blogs</a></li>
      
    </ul>
    <ul class="nav" data-subscription="rss">
      <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
      
    </ul>
      
    <form class="navbar-form" action="http://google.com/search" method="get">
      <fieldset role="search">
        <input type="hidden" name="q" value="site:blog.balakiriev.com" />
        <input class="span2" type="text" name="q" results="0" placeholder="Search"/>
      </fieldset>
    </form>
      
    
  </div>
</div>
</nav>
  <div class="wrapper_single">
    <div class="container">
      <article class="span8 offset2" role="article">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title">Tracking Domains and Subdomains in Google Analytics</h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Aleksandr Balakiriev</span></span>
  

 - 
        








  


<time datetime="2014-01-27T18:48:00+01:00" pubdate data-updated="true">Jan 27<span>th</span>, 2014</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/analytics/'>analytics</a>, <a class='category' href='/blog/categories/domain/'>domain</a>, <a class='category' href='/blog/categories/google/'>google</a>, <a class='category' href='/blog/categories/subdomain/'>subdomain</a>, <a class='category' href='/blog/categories/tracking/'>tracking</a>
  
</span>


        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Steps for correct google analytics config tacking the domain and subdomain:</p>

<p>This is only required if cross tracking to other domains and/or subdomains of other domains.
Links and forms do not generally need to be configured for subdomain tracking between the tld and its own subdomains (the whole point of subdomain tracking)</p>

<!-- more -->


<p>3 profiles should be as follows:
All sites &ndash; unfiltered (from memory this usually shows the subdomain traffic as referral traffic)
this should remain unfiltered as a &ldquo;master&rdquo; profile</p>

<p>www.site.com
should have a hostname include filter
Filter name &ndash; your choice
Filter type &ndash; custom
include
Filter Field &ndash; hostname
Filter pattern &ndash; ^www.site.com
case sensitive &ndash; no</p>

<p>sub.site.com
should have a hostname include filter
Filter name &ndash; your choice
Filter type &ndash; custom
include
Filter Field &ndash; hostname
Filter pattern &ndash; ^sub.site.com
case sensitive &ndash; no</p>

<p>if you want to track all traffic across the subdomain and tld you need the following filter applied to a duplicate profileFilter Filter name &ndash; your choice
Filter type &ndash; custom
advanced
Field A &ndash;> Extract A   Hostname  (.<em>)
Field B &ndash;> Extract B  Request URI  (.</em>)
Output To &ndash;> Constructor   Request URI   $A1$B1
Yes
No
Yes
No</p>

<p>Usual &ldquo;best practice&rdquo; would have you elect either the www or non www url as the canonical domain address.
This is both for correct tracking and best SEO practices.. if it all resolves to a single domain address then pagerank doesnt get diluted if search engines arent sure which one to index and split it between the two.. and backlinks also resolve to a single address as well.</p>

<p>So.. if www.site.com is the domain url you would usually use and that you want indexed.. a htaccess 301 redirect would be setup to redirect site.com to www.site.com.. so it all gets seen just as www.site.com.</p>
</div>


  <footer>
    <p class="meta">
      
  


  
    <span class="byline author vcard">by <span class="fn">Aleksandr Balakiriev</span></span>
  


      








  


<time datetime="2014-01-27T18:48:00+01:00" pubdate data-updated="true">Jan 27<span>th</span>, 2014</time>
      

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/analytics/'>analytics</a>, <a class='category' href='/blog/categories/domain/'>domain</a>, <a class='category' href='/blog/categories/google/'>google</a>, <a class='category' href='/blog/categories/subdomain/'>subdomain</a>, <a class='category' href='/blog/categories/tracking/'>tracking</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://blog.balakiriev.com/blog/2014/01/27/tracking-domains-and-subdomains-in-google-analytics/" data-via="sbalakirev" data-counturl="http://blog.balakiriev.com/blog/2014/01/27/tracking-domains-and-subdomains-in-google-analytics/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    
      <a class="pull-left" href="/blog/2013/12/30/pro-tips-for-writing-better-rspec-tests/" title="Previous Post: Pro tips for writing better rspec tests">&laquo; Pro tips for writing better rspec tests</a>
    
    
  </footer>

</div>

        
          <div class="article-format">
            <h1>Comments</h1>
            <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
          </div>
        
      </article>
    </div>
  </div>
  <div id="footer-widgets">
  <div class="container">
    <div class="row">
  <div class="span3">
    <h2>recent posts</h2>
    <ul class="recent_posts">
      
        <li>
          <a href="/blog/2014/01/27/tracking-domains-and-subdomains-in-google-analytics/">Tracking domains and subdomains in Google Analytics</a>
        </li>
      
        <li>
          <a href="/blog/2013/12/30/pro-tips-for-writing-better-rspec-tests/">Pro tips for writing better rspec tests</a>
        </li>
      
        <li>
          <a href="/blog/2013/12/29/creation-of-remote-git-branch/">Creation of remote git branch</a>
        </li>
      
        <li>
          <a href="/blog/2013/12/29/globalize-your-gitignore/">Globalize your .gitignore</a>
        </li>
      
        <li>
          <a href="/blog/2013/12/29/creating-a-github-blog-using-octopress/">Creating a Github Blog Using Octopress</a>
        </li>
      
    </ul>
    <h2><a href="/blog/archives">archives</a></h2>
  </div>
  <div class="span6">
    
<h2>recent public projects</h2>
<dl id="gh_repos" class="dl-horizontal" data-github-user="balakirevs" data-github-repo-count="5" data-github-skip-forks="true">
  <dd class="loading">Status updating...</dd>
</dl>
<script src="/javascripts/github.js" type="text/javascript"> </script>
<script src="/javascripts/libs/jXHR.js" type="text/javascript"> </script>


  </div>
  <div class="span3">
    
<h2>twitter</h2>
<a href="https://twitter.com/sbalakirev" class="twitter-follow-button" data-show-count="true" data-lang="en">Follow @sbalakirev</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<div class="tweet" data-twitter-user="sbalakirev">
</div>


  </div>
</div>

  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-left">
  <a href="">Tech Blog</a>
  - Copyright &copy; 2014 - <a href="http://balakiriev.com">Aleksandr Balakiriev</a>
</p>

  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="/javascripts/libs/jquery-1.7.2.min.js" type="text/javascript"><\/script>')</script>
<script src="/javascripts/libs/bootstrap.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.tweet.js" type="text/javascript"></script>
<script src="/javascripts/jquery.instagram.js" type="text/javascript"></script>
<script src="/javascripts/libs/jquery.masonry.min.js" type="text/javascript"></script>
<script src="/javascripts/custom.js" type="text/javascript"></script>


<script type="text/javascript">
      var disqus_shortname = 'balakirievme';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.balakiriev.com/blog/2014/01/27/tracking-domains-and-subdomains-in-google-analytics/';
        var disqus_url = 'http://blog.balakiriev.com/blog/2014/01/27/tracking-domains-and-subdomains-in-google-analytics/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
